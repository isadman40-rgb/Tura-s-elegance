<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Tura's Elegance</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Poppins', sans-serif; background: #fff5f8; padding: 20px; overflow-x: hidden; }

        /* ‡¶´‡ßÅ‡¶≤‡ßá‡¶∞ ‡¶™‡¶æ‡¶™‡ßú‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶Æ‡ßá‡¶∂‡¶® */
        .petal { position: fixed; top: -50px; user-select: none; z-index: 9999; pointer-events: none; animation: fall linear infinite; }
        @keyframes fall {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
        }

        .container {
            max-width: 500px; margin: 40px auto; background: rgba(255, 255, 255, 0.9);
            padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(255, 128, 191, 0.2);
            backdrop-filter: blur(10px); position: relative; z-index: 10;
        }

        h2 { font-family: 'Playfair Display', serif; margin-bottom: 20px; text-align: center; }
        .order-summary { background: #fff0f5; padding: 15px; border-radius: 12px; margin-bottom: 25px; border: 1px dashed #ff80bf; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: 600; font-size: 13px; }
        input, textarea { width: 100%; padding: 12px; border: 1px solid #ffdeeb; border-radius: 10px; outline: none; }

        .btn-confirm {
            width: 100%; padding: 16px; background: #25D366; color: white; border: none;
            border-radius: 12px; font-weight: bold; font-size: 16px; cursor: pointer;
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
        }

        /* Success Pop-up Style */
        #success-popup {
            display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: white; padding: 30px; border-radius: 20px; text-align: center;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2); z-index: 10000; width: 80%; max-width: 350px;
        }
        #success-popup h3 { color: #d63384; margin-bottom: 10px; }
        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 9999; }
    </style>
</head>
<body>

<div id="order-petal-container"></div>
<div class="overlay" id="overlay"></div>

<div id="success-popup">
    <div style="font-size: 50px;">üéâ</div>
    <h3>Order Successful!</h3>
    <p>Redirecting to WhatsApp...</p>
</div>

<div class="container">
    <h2>Complete Your Order</h2>
    <div class="order-summary">
        <p><strong>üõçÔ∏è Selected Items:</strong> <br><span id="display-products" style="color: #d63384; font-size: 14px;"></span></p>
        <p style="margin-top: 10px;"><strong>üí∞ Total Amount:</strong> <span id="display-total"></span> ‡ß≥</p>
    </div>

    <div class="form-group"><label>Your Name</label><input type="text" id="cust-name"></div>
    <div class="form-group"><label>WhatsApp Number</label><input type="tel" id="cust-phone"></div>
    <div class="form-group"><label>Delivery Address</label><textarea id="cust-address" rows="3"></textarea></div>

    <button class="btn-confirm" onclick="handleOrder()">Confirm Order via WhatsApp</button>
</div>

<script>
    // ‡¶´‡ßÅ‡¶≤‡ßá‡¶∞ ‡¶á‡¶´‡ßá‡¶ï‡ßç‡¶ü
    const icons = ['üå∏', 'üíÆ', 'üåπ', '‚ú®'];
    function createFlower() {
        const container = document.getElementById('order-petal-container');
        const flower = document.createElement('div');
        flower.className = 'petal';
        flower.innerHTML = icons[Math.floor(Math.random() * icons.length)];
        flower.style.left = Math.random() * 100 + 'vw';
        flower.style.fontSize = Math.random() * 10 + 15 + 'px';
        flower.style.animationDuration = Math.random() * 3 + 4 + 's';
        container.appendChild(flower);
        setTimeout(() => { flower.remove(); }, 6000);
    }
    setInterval(createFlower, 250);

    const urlParams = new URLSearchParams(window.location.search);
    document.getElementById('display-products').innerText = urlParams.get('products');
    document.getElementById('display-total').innerText = urlParams.get('total');

    // ‡¶∏‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶´‡¶æ‡¶á‡¶≤ (‡¶è‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶°‡¶æ‡¶á‡¶∞‡ßá‡¶ï‡ßç‡¶ü ‡¶∏‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï)
    const successSound = new Audio('https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3');

    function handleOrder() {
        const name = document.getElementById('cust-name').value;
        const phone = document.getElementById('cust-phone').value;
        const address = document.getElementById('cust-address').value;

        if(!name || !phone || !address) {
            alert("‡¶∏‡¶¨ ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶¨‡ßç‡¶∞‡ßã! üòä");
            return;
        }

        // ‡ßß. ‡¶∏‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶¨‡¶æ‡¶ú‡¶æ‡¶®‡ßã
        successSound.play();

        // ‡ß®. ‡¶ï‡¶®‡¶´‡ßá‡¶ü‡¶ø (‡¶∞‡¶ô‡¶ø‡¶® ‡¶ï‡¶æ‡¶ó‡¶ú) ‡¶ì‡ßú‡¶æ‡¶®‡ßã
        confetti({
            particleCount: 150,
            spread: 70,
            origin: { y: 0.6 },
            colors: ['#ff80bf', '#ffffff', '#ffb7d5']
        });

        // ‡ß©. ‡¶™‡¶™-‡¶Ü‡¶™ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã
        document.getElementById('success-popup').style.display = 'block';
        document.getElementById('overlay').style.display = 'block';

        // ‡ß™. ‡ß® ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶™‡¶∞ ‡¶π‡ßã‡ßü‡¶æ‡¶ü‡¶∏‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã
        setTimeout(() => {
            const myWhatsAppNumber = "8801794296589"; 
            const products = urlParams.get('products');
            const total = urlParams.get('total');
            const message = `üõçÔ∏è *New Order from Tura's Elegance*%0A%0A*Products:* ${products}%0A*Total:* ${total} ‡ß≥%0A%0Aüë§ *Customer:* ${name}%0A*Phone:* ${phone}%0A*Address:* ${address}`;
            window.location.href = `https://wa.me/${myWhatsAppNumber}?text=${message}`;
        }, 3000);
    }
</script>

</body>
</html>
